{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\HP\\\\Documents\\\\Projects\\\\SUN - App\\\\Skyline_Uni\\\\src\\\\screens\\\\LoginScreen.js\";\n\nimport React, { Component, useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport axios from 'axios';\nimport { Button } from 'react-native-elements';\nexport default LoginScreen = function LoginScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isLoading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var loginUser = function loginUser() {\n    return _regeneratorRuntime.async(function loginUser$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n\n            if (!(username == '' || password == '')) {\n              _context.next = 5;\n              break;\n            }\n\n            Alert.alert('Error', 'Please input your login details');\n            _context.next = 8;\n            break;\n\n          case 5:\n            setLoading(true);\n            _context.next = 8;\n            return _regeneratorRuntime.awrap(axios({\n              method: 'POST',\n              url: 'https://api.sun.edu.ng/api/login/authenticate',\n              data: {\n                'username': username,\n                'password': password\n              },\n              headers: {\n                Accept: 'application/json',\n                Authorization: 'Bearer DA7uzz4i5bEjHhQ5kCte5Dbajhd40OX8hwW-sW5xNZGtCGbikDSTQ2AmP1I8E1vu4UM2GWN_vR3lDW5_yfZmaICLD1-v5MQPQqHnj_G_AXlFCU9mdWIeLFwo0u3MXnYx'\n              }\n            }).then(function (response) {\n              if (response.data.isAuthenticated == true) {\n                console.log(response.data);\n                navigation.navigate('Profile', {\n                  id: response.data.studentId,\n                  token: response.data.token\n                });\n              } else {\n                Alert.alert('Error', 'Something went wrong, please try again!');\n                setLoading(false);\n              }\n            }));\n\n          case 8:\n            _context.next = 13;\n            break;\n\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 13:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 10]], Promise);\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, React.createElement(View, {\n    style: {\n      marginTop: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, React.createElement(Image, {\n    source: require(\"./../../assets/images/logo.png\"),\n    style: styles.logo,\n    resizeMode: \"contain\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })), React.createElement(View, {\n    style: {\n      flexDirection: 'column'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, React.createElement(Button, {\n    title: \"Apply Now\",\n    buttonStyle: styles.applyButton,\n    onPress: function onPress() {\n      return navigation.navigate('Admission');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      marginTop: 10\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: [styles.inputContainer, styles.refNoInput],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, React.createElement(TextInput, {\n    style: {\n      height: 40,\n      paddingLeft: 10\n    },\n    placeholder: \"Application ref number\",\n    onChangeText: function onChangeText(text) {\n      return _this.setState({\n        text: text\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  })), React.createElement(Button, {\n    title: \"Check Status\",\n    buttonStyle: styles.statusButton,\n    onPress: function onPress() {\n      return navigation.navigate('CheckStatus');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }\n  }))), React.createElement(View, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, React.createElement(Text, {\n    style: {\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"Are you a Visitor?\"), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.navigate('Home');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    style: {\n      color: '#d55154',\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, \"Click here!\"))), React.createElement(KeyboardAvoidingView, {\n    behavior: \"height\",\n    style: {\n      marginBottom: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: [styles.inputContainer, styles.loginInput],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    style: {\n      height: 40,\n      paddingLeft: 10\n    },\n    placeholder: \"Username\",\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    autoCompleteType: \"username\",\n    enablesReturnKeyAutomatically: true,\n    returnKeyType: \"next\",\n    textContentType: \"username\",\n    value: username,\n    onChangeText: function onChangeText(user) {\n      setUsername(user);\n    },\n    returnKeyType: \"next\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: [styles.inputContainer, styles.loginInput, {\n      marginTop: 10\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    style: {\n      height: 40,\n      paddingLeft: 10\n    },\n    placeholder: \"Password\",\n    autoCapitalize: \"none\",\n    autoCorrect: false,\n    autoCompleteType: \"password\",\n    enablesReturnKeyAutomatically: true,\n    returnKeyType: \"next\",\n    secureTextEntry: true,\n    onChangeText: function onChangeText(pass) {\n      setPassword(pass);\n    },\n    textContentType: \"password\",\n    value: password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 11\n    }\n  })), isLoading ? React.createElement(ActivityIndicator, {\n    size: \"large\",\n    style: {\n      marginTop: 20\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 23\n    }\n  }) : React.createElement(Button, {\n    title: \"Login\",\n    buttonStyle: styles.loginButton,\n    onPress: function onPress() {\n      return loginUser();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  })));\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column',\n    justifyContent: 'space-around',\n    alignItems: 'center'\n  },\n  logo: {\n    width: 220,\n    height: 220\n  },\n  applyButton: {\n    backgroundColor: '#d55154',\n    width: 300\n  },\n  inputContainer: {\n    justifyContent: 'center',\n    borderRadius: 4,\n    borderWidth: 0.5,\n    borderColor: '#d6d7da',\n    marginRight: 5\n  },\n  refNoInput: {\n    width: 183\n  },\n  loginInput: {\n    width: 300\n  },\n  statusButton: {\n    backgroundColor: 'black'\n  },\n  loginButton: {\n    backgroundColor: '#FF9500',\n    width: 300,\n    marginTop: 15,\n    marginBottom: 15\n  }\n});","map":{"version":3,"sources":["C:/Users/HP/Documents/Projects/SUN - App/Skyline_Uni/src/screens/LoginScreen.js"],"names":["React","Component","useState","useEffect","axios","Button","LoginScreen","navigation","username","setUsername","password","setPassword","isLoading","setLoading","loginUser","Alert","alert","method","url","data","headers","Accept","Authorization","then","response","isAuthenticated","console","log","navigate","id","studentId","token","styles","container","marginTop","require","logo","flexDirection","applyButton","inputContainer","refNoInput","height","paddingLeft","text","setState","statusButton","textAlign","color","marginBottom","loginInput","user","pass","loginButton","StyleSheet","create","flex","justifyContent","alignItems","width","backgroundColor","borderRadius","borderWidth","borderColor","marginRight"],"mappings":"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","sourcesContent":["import React, { Component, useState, useEffect } from 'react';\r\nimport {\r\n  View,\r\n  StyleSheet,\r\n  TouchableOpacity,\r\n  KeyboardAvoidingView,\r\n  ActivityIndicator,\r\n  Text,\r\n  Image,\r\n  TextInput,\r\n  Alert\r\n} from 'react-native';\r\nimport axios from 'axios'\r\nimport { Button } from 'react-native-elements';\r\n\r\nexport default LoginScreen = ({ navigation }) => {\r\n\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [isLoading, setLoading] = useState(false);\r\n\r\n\r\n  const loginUser = async () => {\r\n    try {\r\n      if (username == '' || password == '') {\r\n        Alert.alert('Error','Please input your login details')\r\n      }\r\n      else {\r\n        setLoading(true);\r\n        await axios(\r\n          {\r\n            method: 'POST',\r\n            url: 'https://api.sun.edu.ng/api/login/authenticate',\r\n            data: {\r\n              'username': username,\r\n              'password': password\r\n            },\r\n            headers: {\r\n              Accept: 'application/json',\r\n              Authorization: 'Bearer DA7uzz4i5bEjHhQ5kCte5Dbajhd40OX8hwW-sW5xNZGtCGbikDSTQ2AmP1I8E1vu4UM2GWN_vR3lDW5_yfZmaICLD1-v5MQPQqHnj_G_AXlFCU9mdWIeLFwo0u3MXnYx'\r\n            }\r\n          }\r\n        )\r\n          .then(\r\n            function (response) {\r\n              if (response.data.isAuthenticated == true) {\r\n                console.log(response.data);\r\n                navigation.navigate('Profile', { id: response.data.studentId, token: response.data.token })\r\n              }\r\n              else {\r\n                Alert.alert('Error', 'Something went wrong, please try again!');\r\n                setLoading(false)\r\n              }\r\n            }\r\n          )\r\n      }\r\n    }\r\n    catch (error) {\r\n      console.log(error)\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n\r\n      <View style={{ marginTop: 10 }}>\r\n        <Image\r\n          source={require('./../../assets/images/logo.png')}\r\n          style={styles.logo}\r\n          resizeMode='contain'\r\n        />\r\n      </View>\r\n\r\n      <View style={{ flexDirection: 'column' }}>\r\n        <Button title=\"Apply Now\" buttonStyle={styles.applyButton}\r\n          onPress={() => navigation.navigate('Admission')} />\r\n        <View style={{ flexDirection: 'row', marginTop: 10 }}>\r\n          <View style={[styles.inputContainer, styles.refNoInput]}>\r\n            <TextInput\r\n              style={{ height: 40, paddingLeft: 10 }}\r\n              placeholder=\"Application ref number\"\r\n              onChangeText={(text) => this.setState({ text })}\r\n            />\r\n          </View>\r\n          <Button title=\"Check Status\" buttonStyle={styles.statusButton}\r\n            onPress={() => navigation.navigate('CheckStatus')} />\r\n        </View>\r\n      </View>\r\n\r\n      <View>\r\n        <Text style={{ textAlign: 'center' }}>\r\n          Are you a Visitor?\r\n            </Text>\r\n        <TouchableOpacity onPress={() => navigation.navigate('Home')}>\r\n          <Text style={{ color: '#d55154', textAlign: 'center' }}>\r\n            Click here!\r\n          </Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      <KeyboardAvoidingView behavior=\"height\" style={{ marginBottom: 20 }}>\r\n\r\n        <View style={[styles.inputContainer, styles.loginInput]}>\r\n          <TextInput\r\n            style={{ height: 40, paddingLeft: 10 }}\r\n            placeholder=\"Username\"\r\n            autoCapitalize=\"none\"\r\n            autoCorrect={false}\r\n            autoCompleteType=\"username\"\r\n            enablesReturnKeyAutomatically={true}\r\n            returnKeyType=\"next\"\r\n            textContentType=\"username\"\r\n            value={username}\r\n            onChangeText={(user) => { setUsername(user) }}\r\n            returnKeyType={\"next\"}\r\n          />\r\n        </View>\r\n\r\n        <View style={[styles.inputContainer, styles.loginInput, { marginTop: 10 }]}>\r\n          <TextInput\r\n            style={{ height: 40, paddingLeft: 10 }}\r\n            placeholder=\"Password\"\r\n            autoCapitalize=\"none\"\r\n            autoCorrect={false}\r\n            autoCompleteType=\"password\"\r\n            enablesReturnKeyAutomatically={true}\r\n            returnKeyType=\"next\"\r\n            secureTextEntry={true}\r\n            onChangeText={(pass) => { setPassword(pass) }}\r\n            textContentType=\"password\"\r\n            value={password}\r\n          />\r\n        </View>\r\n        {\r\n          isLoading ? <ActivityIndicator size=\"large\" style={{ marginTop: 20 }} /> : (\r\n            <Button title=\"Login\" buttonStyle={styles.loginButton}\r\n              onPress={() => loginUser()}\r\n            />\r\n          )\r\n        }\r\n\r\n\r\n      </KeyboardAvoidingView>\r\n    </View>\r\n  );\r\n}\r\n  ;\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center'\r\n  },\r\n  logo: {\r\n    width: 220,\r\n    height: 220\r\n  },\r\n  applyButton: {\r\n    backgroundColor: '#d55154',\r\n    width: 300\r\n  },\r\n  inputContainer: {\r\n    justifyContent: 'center',\r\n    borderRadius: 4,\r\n    borderWidth: 0.5,\r\n    borderColor: '#d6d7da',\r\n    marginRight: 5\r\n  },\r\n  refNoInput: {\r\n    width: 183,\r\n  },\r\n  loginInput: {\r\n    width: 300\r\n  },\r\n  statusButton: {\r\n    backgroundColor: 'black'\r\n  },\r\n  loginButton: {\r\n    backgroundColor: '#FF9500',\r\n    width: 300,\r\n    marginTop: 15,\r\n    marginBottom: 15\r\n  },\r\n});\r\n"]},"metadata":{},"sourceType":"module"}